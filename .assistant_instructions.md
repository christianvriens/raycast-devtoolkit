Project policy for automated assistants

- Always run the full test-suite before creating any commit that changes source code.
- Use the project launcher to run tests: `./python-tools/run.sh test` so tests run in an isolated venv.
- If tests fail, do not commit; report failures and open an issue or fix before retrying.
---

Assistant prompt templates and contract

1) One-line quick instruction

"Run the project tests first, only commit if they pass; update docs, changelog and release notes from the changelog; fix Pydantic deprecations; add/adjust CI to run tests; open a draft PR that includes the test summary."

2) Short prompt (recommended everyday use)

Before making or committing any change:
1) Run tests with `./python-tools/run.sh test` (create/use venv).
2) If tests fail, stop and report failures (do not commit).
3) If tests pass, run lint/warnings check and fix Pydantic deprecations where safe.
4) Update docs/README and CHANGELOG.md; add release-notes/Unreleased.md from the changelog.
5) Ensure CI workflow runs tests (adjust caching and matrix if needed).
6) Commit, push to a feature branch and open a draft PR. Include test summary (pass/fail, counts, warnings) in the PR body.
Please show the test output and PR URL before finalizing.

3) Full assistant contract (use for autonomous tasks)

- Goal: Make requested changes and ensure they are safe to merge by running tests and updating CI/docs before creating a draft PR.
- Inputs: repository root and a change description.
- Outputs: edits committed to a branch, a draft PR URL, test summary and a short changelog/release notes addition.
- Success criteria: tests pass locally inside `python-tools/.venv`, changelog/release-notes are updated, CI runs tests on PRs, PR opened as draft with the test summary.
- Error handling: If venv/pip is blocked, explain to the user the manual steps. If tests fail, stop and report failures; do not commit.

Detailed step sequence:
1) Create a feature branch `add/<short-desc>`.
2) Run `./python-tools/run.sh test`; capture output.
3) If tests fail: report and abort.
4) If tests pass: fix straightforward deprecations/warnings (Pydantic validators/config), update changelog and release notes, update docs and CI workflows.
5) Run tests again to verify.
6) Commit, push, create draft PR and include test report in the PR body.

PR body template:
Title: <short summary>
Body:
- What changed
- Test run summary (command, result, warnings, duration)
- How to reproduce locally
- CI changes and follow-ups

---

If you want a shorter or project-specific prompt, append it to this file so the assistant reads it before making changes.
